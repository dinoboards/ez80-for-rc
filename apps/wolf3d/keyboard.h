#ifndef __KEYBOARD_SCAN_SIMULATOR_H__
#define __KEYBOARD_SCAN_SIMULATOR_H__

#include <stdbool.h>
#include <stdint.h>

/*
Support to convert serial characters to a scan code event sequence
*/

#define KEY_A 0x04 // Keyboard a and A
#define KEY_B 0x05 // Keyboard b and B
#define KEY_C 0x06 // Keyboard c and C
#define KEY_D 0x07 // Keyboard d and D
#define KEY_E 0x08 // Keyboard e and E
#define KEY_F 0x09 // Keyboard f and F
#define KEY_G 0x0a // Keyboard g and G
#define KEY_H 0x0b // Keyboard h and H
#define KEY_I 0x0c // Keyboard i and I
#define KEY_J 0x0d // Keyboard j and J
#define KEY_K 0x0e // Keyboard k and K
#define KEY_L 0x0f // Keyboard l and L
#define KEY_M 0x10 // Keyboard m and M
#define KEY_N 0x11 // Keyboard n and N
#define KEY_O 0x12 // Keyboard o and O
#define KEY_P 0x13 // Keyboard p and P
#define KEY_Q 0x14 // Keyboard q and Q
#define KEY_R 0x15 // Keyboard r and R
#define KEY_S 0x16 // Keyboard s and S
#define KEY_T 0x17 // Keyboard t and T
#define KEY_U 0x18 // Keyboard u and U
#define KEY_V 0x19 // Keyboard v and V
#define KEY_W 0x1a // Keyboard w and W
#define KEY_X 0x1b // Keyboard x and X
#define KEY_Y 0x1c // Keyboard y and Y
#define KEY_Z 0x1d // Keyboard z and Z

#define KEY_1 0x1e // Keyboard 1 and !
#define KEY_2 0x1f // Keyboard 2 and @
#define KEY_3 0x20 // Keyboard 3 and #
#define KEY_4 0x21 // Keyboard 4 and $
#define KEY_5 0x22 // Keyboard 5 and %
#define KEY_6 0x23 // Keyboard 6 and ^
#define KEY_7 0x24 // Keyboard 7 and &
#define KEY_8 0x25 // Keyboard 8 and *
#define KEY_9 0x26 // Keyboard 9 and (
#define KEY_0 0x27 // Keyboard 0 and )

#define KEY_ENTER      0x28 // Keyboard Return (ENTER)
#define KEY_ESC        0x29 // Keyboard ESCAPE
#define KEY_BACKSPACE  0x2a // Keyboard DELETE (Backspace)
#define KEY_TAB        0x2b // Keyboard Tab
#define KEY_SPACE      0x2c // Keyboard Spacebar
#define KEY_MINUS      0x2d // Keyboard - and _
#define KEY_EQUAL      0x2e // Keyboard = and +
#define KEY_LEFTBRACE  0x2f // Keyboard [ and {
#define KEY_RIGHTBRACE 0x30 // Keyboard ] and }
#define KEY_BACKSLASH  0x31 // Keyboard \ and |
#define KEY_HASHTILDE  0x32 // Keyboard Non-US # and ~
#define KEY_SEMICOLON  0x33 // Keyboard ; and :
#define KEY_APOSTROPHE 0x34 // Keyboard ' and "
#define KEY_GRAVE      0x35 // Keyboard ` and ~
#define KEY_COMMA      0x36 // Keyboard , and <
#define KEY_DOT        0x37 // Keyboard . and >
#define KEY_SLASH      0x38 // Keyboard / and ?
#define KEY_CAPSLOCK   0x39 // Keyboard Caps Lock

#define KEY_F1  0x3a // Keyboard F1
#define KEY_F2  0x3b // Keyboard F2
#define KEY_F3  0x3c // Keyboard F3
#define KEY_F4  0x3d // Keyboard F4
#define KEY_F5  0x3e // Keyboard F5
#define KEY_F6  0x3f // Keyboard F6
#define KEY_F7  0x40 // Keyboard F7
#define KEY_F8  0x41 // Keyboard F8
#define KEY_F9  0x42 // Keyboard F9
#define KEY_F10 0x43 // Keyboard F10
#define KEY_F11 0x44 // Keyboard F11
#define KEY_F12 0x45 // Keyboard F12

#define KEY_SYSRQ      0x46 // Keyboard Print Screen
#define KEY_SCROLLLOCK 0x47 // Keyboard Scroll Lock
#define KEY_PAUSE      0x48 // Keyboard Pause
#define KEY_INSERT     0x49 // Keyboard Insert
#define KEY_HOME       0x4a // Keyboard Home
#define KEY_PAGEUP     0x4b // Keyboard Page Up
#define KEY_DELETE     0x4c // Keyboard Delete Forward
#define KEY_END        0x4d // Keyboard End
#define KEY_PAGEDOWN   0x4e // Keyboard Page Down
#define KEY_RIGHT      0x4f // Keyboard Right Arrow
#define KEY_LEFT       0x50 // Keyboard Left Arrow
#define KEY_DOWN       0x51 // Keyboard Down Arrow
#define KEY_UP         0x52 // Keyboard Up Arrow

#define KEY_UP    0x52 // Keyboard Up Arrow
#define KEY_RIGHT 0x4f // Keyboard Right Arrow
#define KEY_LEFT  0x50 // Keyboard Left Arrow
#define KEY_DOWN  0x51 // Keyboard Down Arrow

#define KEY_LEFTCTRL   0xe0 // Keyboard Left Control
#define KEY_LEFTSHIFT  0xe1 // Keyboard Left Shift
#define KEY_LEFTALT    0xe2 // Keyboard Left Alt
#define KEY_LEFTMETA   0xe3 // Keyboard Left GUI
#define KEY_RIGHTCTRL  0xe4 // Keyboard Right Control
#define KEY_RIGHTSHIFT 0xe5 // Keyboard Right Shift
#define KEY_RIGHTALT   0xe6 // Keyboard Right Alt
#define KEY_RIGHTMETA  0xe7 // Keyboard Right GUI

typedef enum { EVENT_KEY_DOWN = 1, EVENT_KEY_UP = 2 } KeyEvent;

typedef struct {
  uint8_t  scan_code;
  KeyEvent event;
} KeyEventInfo;

extern bool poll_for_key_event(KeyEventInfo *key_event);
extern bool key_event_pending();

#endif
